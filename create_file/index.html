<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Save Data with Ajax and PHP</title>
</head>

<body>
    <form onsubmit="create_file();return false">
        <input type="text" id="kartonik" autofocus>
        <br>
    </form>
    <div id="response"></div>
    <script>
        // function save(){
        // 	var response=document.getElementById("response");
        // 	var data = 'data='+document.getElementById("data").value;
        // 	var xmlhttp = new XMLHttpRequest();
        // 	xmlhttp.onreadystatechange=function(){
        // 	  if (xmlhttp.readyState==4 && xmlhttp.status==200){
        // 	    response.innerHTML='<a href="files/'+xmlhttp.responseText+'.txt">'+xmlhttp.responseText+'.txt</a>';
        // 	  }
        // 	}
        // 	xmlhttp.open("POST","save.php",true);
        //         //Must add this request header to XMLHttpRequest request for POST
        //         xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        // 	xmlhttp.send(data);
        // }

        function create_file() {
            var response=document.getElementById("response");
            var kartonik = document.getElementById("kartonik").value
            if (kartonik != "") {
                // alert(kartonik);
                var data = 'data=' + document.getElementById("kartonik").value;
                var xmlhttp = new XMLHttpRequest();
                xmlhttp.onreadystatechange = function () {
                    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                        response.innerHTML = '<a href="files/' + xmlhttp.responseText + '.txt">' + xmlhttp.responseText + '.txt</a>';
                    }
                }
                xmlhttp.open("POST", "save.php", true);
                //Must add this request header to XMLHttpRequest request for POST
                xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
                xmlhttp.send(data)
                
                $('#rt1').click(function () {
                    $('#kartonik').attr('value', '');
                });

                
            }
            else
                alert("Podaj box")
        }
    </script>
</body>

</html>